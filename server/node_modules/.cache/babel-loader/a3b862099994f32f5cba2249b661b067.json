{"ast":null,"code":"import _objectSpread from\"/Users/rodrigodaudskeff/Desktop/Mediabase/mediabase-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/rodrigodaudskeff/Desktop/Mediabase/mediabase-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useMemo,useState}from'react';import{useTable,useRowSelect,useRowState,useFlexLayout,useExpanded,useFilters,useGlobalFilter,useSortBy}from'react-table';import{Styles,Table,Thead,Tr,Tbody,Th,Td,Wrapper,EmptyStateContainer,RowSubComponent,Link}from'./styles';import{COLUMNS}from'./columns';import{DATA}from'./data';import{filterTypes,DefaultColumnFilter,GlobalFilter,SelectColumnFilter}from'./filters';import{Toolbar}from'./Toolbar';import{Toast,Button}from'../../../../components';import{COLOR}from'../../../../tokens/colors';import plus from\"../../../../assets/icons/plus.svg\";import{AddFormatModal}from'..';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var NoDataComponent=function NoDataComponent(_ref){var handleClickOnAddFormato=_ref.handleClickOnAddFormato;return/*#__PURE__*/_jsx(Wrapper,{children:/*#__PURE__*/_jsx(EmptyStateContainer,{children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Essa campanha ainda n\\xE3o possu\\xED nenhum formato. Clique em \",/*#__PURE__*/_jsx(\"span\",{onClick:handleClickOnAddFormato,children:\"Adicionar formatos\"}),\" para iniciar.\"]})})});};var getStyles=function getStyles(props){var align=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'left';var toggle=arguments.length>2?arguments[2]:undefined;return[props,{style:{justifyContent:align==='right'?'flex-end':'flex-start',alignItems:'center',display:'flex',flexBasis:'auto'}}];};var App=function App(_ref2){var userColumns=_ref2.columns,data=_ref2.data,renderRowSubComponent=_ref2.renderRowSubComponent,stateReducer=_ref2.stateReducer;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),selectedSubRows=_useState2[0],setSelectedSubRows=_useState2[1];var defaultColumn=React.useMemo(function(){return{Filter:DefaultColumnFilter,// When using the useFlexLayout:\nminWidth:30,// minWidth is only used as a limit for resizing\nwidth:150,// width is used for both the flex-basis and flex-grow\nmaxWidth:200// maxWidth is only used as a limit for resizing\n};},[]);var tableInstance=useTable({columns:userColumns,data:data,defaultColumn:defaultColumn,// Be sure to pass the defaultColumn option\nfilterTypes:filterTypes,stateReducer:stateReducer,expandSubRows:true,getSubRows:React.useCallback(function(row){return row.criativos||[];})},useFlexLayout,useFilters,useGlobalFilter,useSortBy,useExpanded,useRowSelect,useRowState);var getTableProps=tableInstance.getTableProps,getTableBodyProps=tableInstance.getTableBodyProps,toggleRowSelected=tableInstance.toggleRowSelected,headerGroups=tableInstance.headerGroups,rows=tableInstance.rows,columns=tableInstance.columns,prepareRow=tableInstance.prepareRow,visibleColumns=tableInstance.visibleColumns,selectedFlatRows=tableInstance.selectedFlatRows,preGlobalFilteredRows=tableInstance.preGlobalFilteredRows,setGlobalFilter=tableInstance.setGlobalFilter,getToggleAllRowsSelectedProps=tableInstance.getToggleAllRowsSelectedProps,_tableInstance$state=tableInstance.state,globalFilter=_tableInstance$state.globalFilter,filters=_tableInstance$state.filters;console.log(rows);var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];// Get selected rows data\nvar original=selectedFlatRows.selectedRowsData;// Count how many subrows are selected\nvar subrowsCounter=selectedFlatRows.filter(function(item){return item.depth===1;}).length;// Toggle all selected rows state to false when clicking on cancelar button\nfunction handleClickOnCancelar(){rows.forEach(function(item){if(item.isSelected){toggleRowSelected(item.id,false);}});}var handleClickOnCloseButton=function handleClickOnCloseButton(){setOpen(false);};var handleClickOnAddFormato=function handleClickOnAddFormato(){setOpen(true);};// Render the UI for your table\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[!!subrowsCounter&&/*#__PURE__*/_jsx(Toolbar,{counter:subrowsCounter,handleClickOnCancelar:handleClickOnCancelar}),open&&/*#__PURE__*/_jsx(AddFormatModal,{handleClickOnCloseButton:handleClickOnCloseButton}),/*#__PURE__*/_jsxs(\"div\",{className:\"tableWrap\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'inline-flex',gap:'1rem',padding:'1rem'},children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(GlobalFilter,{preGlobalFilteredRows:preGlobalFilteredRows,globalFilter:globalFilter,setGlobalFilter:setGlobalFilter})}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'left'},children:/*#__PURE__*/_jsx(SelectColumnFilter,{userColumns:columns[1]})}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'left'},children:/*#__PURE__*/_jsx(SelectColumnFilter,{userColumns:columns[2]})}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'right'},children:/*#__PURE__*/_jsx(Button,{variation:\"primary\",cor:COLOR.brandRed90,corDaOrelha:COLOR.gray100,iconLeft:plus,onClick:handleClickOnAddFormato,children:\"Adicionar formato\"})})]}),/*#__PURE__*/_jsxs(Table,_objectSpread(_objectSpread({className:\"table tableWrap\"},getTableProps()),{},{children:[/*#__PURE__*/_jsx(Thead,{children:headerGroups.map(function(headerGroup){return/*#__PURE__*/_jsx(Tr,_objectSpread(_objectSpread({className:\"tr\"},headerGroup.getHeaderGroupProps()),{},{children:headerGroup.headers.map(function(column){return/*#__PURE__*/_jsxs(Th,_objectSpread(_objectSpread({className:column.id==='expander'?\"th align-right\":\"th\"},column.getHeaderProps(_objectSpread(_objectSpread({},column.getSortByToggleProps()),{},{style:{display:'inline-flex',alignItems:'center'}}))),{},{children:[column.render('Header'),/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',marginLeft:'.5rem'},children:column.isSorted?column.isSortedDesc?' ðŸ”½':' ðŸ”¼':''})]}));})}));})}),/*#__PURE__*/_jsxs(Tbody,_objectSpread(_objectSpread({className:\"tbody\"},getTableBodyProps()),{},{children:[data.length===0&&/*#__PURE__*/_jsx(NoDataComponent,{handleClickOnAddFormato:function handleClickOnAddFormato(){return setOpen(true);}}),rows.map(function(row,i){prepareRow(row);return/*#__PURE__*/ (// Use a React.Fragment here so the table markup is still valid\n_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Tr,_objectSpread(_objectSpread({className:row.depth===1?\"tr depth-1\":\"tr\"},row.getRowProps()),{},{depth:row.depth,children:row.cells.map(function(cell){if(row.depth===1&&cell.column.id==='formatodoarquivo'&&cell.value===''){return/*#__PURE__*/_jsx(Td,_objectSpread(_objectSpread({className:\"td\"},cell.getCellProps()),{},{children:/*#__PURE__*/_jsx(Link,{onClick:function onClick(){return console.log('Subir arquivo');},children:\"Adicionar arquivo +\"})}));}if(row.depth===1&&cell.column.id==='prazo'&&cell.value===''){return/*#__PURE__*/_jsx(Td,_objectSpread(_objectSpread({className:\"td\"},cell.getCellProps()),{},{children:/*#__PURE__*/_jsx(Link,{onClick:function onClick(){return'';},children:\"Prazo +\"})}));}if(row.depth===1&&cell.column.id==='veiculaÃ§Ã£o'&&cell.value===''){return/*#__PURE__*/_jsx(Td,_objectSpread(_objectSpread({className:\"td\"},cell.getCellProps()),{},{children:/*#__PURE__*/_jsx(Link,{onClick:function onClick(){return'';},children:\"Veicula\\xE7\\xE3o +\"})}));}return/*#__PURE__*/_jsx(Td,_objectSpread(_objectSpread({className:cell.column.id==='expander'?\"td align-right\":\"td\"},cell.getCellProps({style:{display:'flex',alignItems:'center'}})),{},{children:cell.render('Cell')}));})})),row.isExpanded&&!row.depth?/*#__PURE__*/_jsx(Tr,_objectSpread(_objectSpread({},row.getRowProps()),{},{className:\"tr depth-1\",children:/*#__PURE__*/_jsx(Td,{className:\"td\",children:renderRowSubComponent()})})):null]}));})]}))]}))]})]});};export var CampaignsTable=function CampaignsTable(_ref3){var data=_ref3.data;var columns=useMemo(function(){return COLUMNS;},[]);// const data = useMemo(() => DATA,[])\nvar _useState5=useState({isUpdating:false,status:'failure'}),_useState6=_slicedToArray(_useState5,2),dataUpdate=_useState6[0],setDataUpdate=_useState6[1];var renderRowSubComponent=React.useCallback(function(){return/*#__PURE__*/_jsx(RowSubComponent,{});});return/*#__PURE__*/_jsxs(Styles,{children:[dataUpdate.isUpdating&&/*#__PURE__*/_jsx(Toast,{status:dataUpdate.status}),data===undefined?'Carregando dados':/*#__PURE__*/_jsx(App,{columns:columns,data:data,renderRowSubComponent:renderRowSubComponent})]});};","map":{"version":3,"sources":["/Users/rodrigodaudskeff/Desktop/Mediabase/mediabase-app/client/src/pages/Campaign/pageComponents/Table/index.jsx"],"names":["React","useMemo","useState","useTable","useRowSelect","useRowState","useFlexLayout","useExpanded","useFilters","useGlobalFilter","useSortBy","Styles","Table","Thead","Tr","Tbody","Th","Td","Wrapper","EmptyStateContainer","RowSubComponent","Link","COLUMNS","DATA","filterTypes","DefaultColumnFilter","GlobalFilter","SelectColumnFilter","Toolbar","Toast","Button","COLOR","AddFormatModal","NoDataComponent","handleClickOnAddFormato","getStyles","props","align","toggle","style","justifyContent","alignItems","display","flexBasis","App","userColumns","columns","data","renderRowSubComponent","stateReducer","selectedSubRows","setSelectedSubRows","defaultColumn","Filter","minWidth","width","maxWidth","tableInstance","expandSubRows","getSubRows","useCallback","row","criativos","getTableProps","getTableBodyProps","toggleRowSelected","headerGroups","rows","prepareRow","visibleColumns","selectedFlatRows","preGlobalFilteredRows","setGlobalFilter","getToggleAllRowsSelectedProps","state","globalFilter","filters","console","log","open","setOpen","original","selectedRowsData","subrowsCounter","filter","item","depth","length","handleClickOnCancelar","forEach","isSelected","id","handleClickOnCloseButton","gap","padding","textAlign","brandRed90","gray100","plus","map","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","getSortByToggleProps","render","position","marginLeft","isSorted","isSortedDesc","i","getRowProps","cells","cell","value","getCellProps","isExpanded","CampaignsTable","isUpdating","status","dataUpdate","setDataUpdate","undefined"],"mappings":"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","sourcesContent":["import React, { useMemo, useState } from 'react'\nimport { useTable, useRowSelect, useRowState,useFlexLayout, useExpanded, useFilters, useGlobalFilter, useSortBy } from 'react-table'\nimport { Styles, Table, Thead, Tr, Tbody, Th, Td, Wrapper, EmptyStateContainer, RowSubComponent, Link} from './styles'\nimport { COLUMNS } from './columns'\nimport { DATA } from './data'\nimport { filterTypes, DefaultColumnFilter, GlobalFilter, SelectColumnFilter } from './filters'\nimport { Toolbar } from './Toolbar'\nimport { Toast, Button } from '../../../../components'\nimport { COLOR } from '../../../../tokens/colors'\nimport plus from '../../../../assets/icons/plus.svg'\nimport { AddFormatModal } from '..'\n\n\nconst NoDataComponent = ({ handleClickOnAddFormato }) => {\n  return (\n      <Wrapper>\n           <EmptyStateContainer>\n              <p>Essa campanha ainda nÃ£o possuÃ­ nenhum formato. Clique em <span onClick={handleClickOnAddFormato}>Adicionar formatos</span> para iniciar.</p>\n           </EmptyStateContainer>\n      </Wrapper>\n  )\n}\n\nconst getStyles = (props, align = 'left', toggle) => [\n  props,\n  {\n    style: {\n      justifyContent: align === 'right' ? 'flex-end' : 'flex-start',\n      alignItems: 'center',\n      display: 'flex',\n      flexBasis: 'auto',\n    },\n  },\n]\n\n\nconst App = ({ columns: userColumns, data, renderRowSubComponent, stateReducer\n}) => {\n\n\n    const [ selectedSubRows, setSelectedSubRows ] = useState('')\n\n    const defaultColumn = React.useMemo(\n        () => ({\n            Filter: DefaultColumnFilter,\n\n          // When using the useFlexLayout:\n          minWidth: 30, // minWidth is only used as a limit for resizing\n          width: 150, // width is used for both the flex-basis and flex-grow\n          maxWidth: 200, // maxWidth is only used as a limit for resizing\n        }),\n        []\n      )\n  \n \n\n  const tableInstance = useTable({\n    columns: userColumns,\n    data,\n    defaultColumn, // Be sure to pass the defaultColumn option\n    filterTypes,\n    stateReducer,\n    expandSubRows: true,\n    getSubRows: React.useCallback((row) => row.criativos || []),\n  },\n  useFlexLayout,\n  useFilters, \n  useGlobalFilter, \n  useSortBy,\n  useExpanded,\n  useRowSelect,\n  useRowState\n  )\n\n\n  const {\n    getTableProps,\n    getTableBodyProps,\n    toggleRowSelected,\n    headerGroups,\n    rows,\n    columns,\n    prepareRow,\n    visibleColumns,\n    selectedFlatRows,\n    preGlobalFilteredRows,\n    setGlobalFilter,\n    getToggleAllRowsSelectedProps,\n    state: { globalFilter, filters }\n  } = tableInstance\n\n  console.log(rows)\n\n  const [ open, setOpen ] = useState(false)\n    \n  // Get selected rows data\n  const { selectedRowsData: original } = selectedFlatRows\n  \n  // Count how many subrows are selected\n  const subrowsCounter = selectedFlatRows.filter((item) => item.depth === 1 ).length\n\n  // Toggle all selected rows state to false when clicking on cancelar button\n  function handleClickOnCancelar() {\n    rows.forEach((item) => {\n        if (item.isSelected) {\n            toggleRowSelected(item.id,false)\n        }\n    })\n  }\n\n\n  const handleClickOnCloseButton = () => {\n    setOpen(false)\n  }\n\n  const handleClickOnAddFormato = () => {\n      setOpen(true)\n  }\n\n  // Render the UI for your table\n  return (\n      <>\n     { !!subrowsCounter && <Toolbar counter={subrowsCounter} handleClickOnCancelar={handleClickOnCancelar} /> } \n     { open && <AddFormatModal handleClickOnCloseButton={handleClickOnCloseButton}/> }\n    <div className=\"tableWrap\">\n      <div style={{\n          display: 'inline-flex',\n          gap: '1rem',\n          padding: '1rem'\n      }}>\n          <div>          \n              <GlobalFilter\n                preGlobalFilteredRows={preGlobalFilteredRows}\n                globalFilter={globalFilter}\n                setGlobalFilter={setGlobalFilter}\n              />\n          </div>\n          <div style={{ textAlign: 'left' }}> \n              <SelectColumnFilter userColumns={columns[1]} />\n          </div>\n          <div style={{ textAlign: 'left'}}> \n              <SelectColumnFilter userColumns={columns[2]} />\n          </div>\n          <div style={{ textAlign: 'right'}}> \n            <Button\n              variation=\"primary\"\n              cor={COLOR.brandRed90}\n              corDaOrelha={COLOR.gray100}\n              iconLeft={plus}\n              onClick={handleClickOnAddFormato}>\n              Adicionar formato\n            </Button>\n          </div>\n      </div>\n\n    <Table className=\"table tableWrap\" {...getTableProps()} >\n      \n        <Thead>\n        {headerGroups.map(headerGroup => (\n            <Tr className=\"tr\" {...headerGroup.getHeaderGroupProps()}>\n            {headerGroup.headers.map(column => {\n                return (\n                <Th className={ column.id === 'expander' ? \"th align-right\" : \"th\"} {...column.getHeaderProps({\n                    ...column.getSortByToggleProps(),\n                        style: {\n                            display: 'inline-flex',\n                            alignItems: 'center',                            \n                        }\n                    \n                    })} >{column.render('Header')}\n                {/* Add a sort direction indicator */}\n                <span style={{ position: 'absolute', marginLeft: '.5rem'}}>\n                    {column.isSorted\n                    ? column.isSortedDesc\n                        ? ' ðŸ”½'\n                        : ' ðŸ”¼'\n                    : ''}\n                </span>\n                </Th>\n            )})}\n            </Tr>\n        ))}\n        </Thead>\n\n        <Tbody className=\"tbody\" {...getTableBodyProps()} >\n            { data.length === 0 && <NoDataComponent handleClickOnAddFormato={ () => setOpen(true) }/>}\n\n        {rows.map((row, i) => {\n\n            prepareRow(row)\n            \n            return (\n            // Use a React.Fragment here so the table markup is still valid\n            <React.Fragment >\n                <Tr className={ row.depth === 1 ? \"tr depth-1\" : \"tr\" }  {...row.getRowProps()} depth={row.depth}\n                >   \n            \n                {row.cells.map(cell => {\n\n\n                    if (row.depth === 1 && cell.column.id === 'formatodoarquivo' && cell.value === '') {\n                        return <Td className=\"td\" {...cell.getCellProps()}><Link onClick={() => console.log('Subir arquivo')}>Adicionar arquivo +</Link></Td>\n                    }\n\n                    if (row.depth === 1 && cell.column.id === 'prazo' && cell.value === '') {\n                        return <Td className=\"td\" {...cell.getCellProps()}><Link onClick={() => ''}>Prazo +</Link></Td>\n                    }\n\n                    if (row.depth === 1 && cell.column.id === 'veiculaÃ§Ã£o' && cell.value === '') {\n                        return <Td className=\"td\" {...cell.getCellProps()}><Link onClick={() => ''}>VeiculaÃ§Ã£o +</Link></Td>\n                    }\n\n                    return (\n                    <Td className={cell.column.id === 'expander' ? \"td align-right\" : \"td\"} {...cell.getCellProps({\n                        style: {\n                            display: 'flex',\n                            alignItems: 'center'\n                        }\n                    })}>{cell.render('Cell')}</Td>\n                    )\n                })}\n                </Tr>\n                \n                {/*\n                    If the row is in an expanded state, render a row with a\n                    column that fills the entire length of the table.\n                */}\n                {row.isExpanded && !row.depth ? (\n                <Tr {...row.getRowProps()} className=\"tr depth-1\">\n                    <Td className=\"td\">\n                      { renderRowSubComponent() }\n                    </Td>\n                </Tr>\n                ) : null}\n            </React.Fragment>\n            )\n        })}\n        </Tbody>\n      </Table>\n    </div>\n    </>\n  )\n}\n\n\n\nexport const CampaignsTable = ({ data }) => {\n\n  const columns = useMemo(() => COLUMNS,[])\n  // const data = useMemo(() => DATA,[])\n\n  const [ dataUpdate , setDataUpdate ] = useState({\n    isUpdating: false,\n    status: 'failure'\n  })\n\n  const renderRowSubComponent = React.useCallback(\n    () =>  <RowSubComponent />\n  )\n\n\n  return (\n    <Styles>\n      { dataUpdate.isUpdating && <Toast status={dataUpdate.status} />}\n      { data === undefined ? 'Carregando dados' :\n        <App\n          columns={ columns }\n          data={ data }\n          renderRowSubComponent={ renderRowSubComponent }\n        />\n      }\n    </Styles>\n  )\n}\n\n\n"]},"metadata":{},"sourceType":"module"}