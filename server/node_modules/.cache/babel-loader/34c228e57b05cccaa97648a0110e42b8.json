{"ast":null,"code":"import _slicedToArray from\"/Users/rodrigodaudskeff/Desktop/Mediabase/mediabase-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import axios from'axios';import{Modal,TextInput,TextArea,FormGroup}from'../../../../components';import{FormWrapper,FormContainer,ImagemDeCapa,AlterarImagem}from'./styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var EditCriativoModal=function EditCriativoModal(_ref){var criativo=_ref.criativo,handleClickOnCloseButton=_ref.handleClickOnCloseButton;var _useState=useState(criativo.nome),_useState2=_slicedToArray(_useState,2),nome=_useState2[0],setNome=_useState2[1];var _useState3=useState(criativo.descricao),_useState4=_slicedToArray(_useState3,2),descricao=_useState4[0],setDescricao=_useState4[1];var _useState5=useState(criativo.imagem),_useState6=_slicedToArray(_useState5,2),imagem=_useState6[0],setImagem=_useState6[1];var _useSelector=useSelector(function(state){return state.criativos;}),selected=_useSelector.selected;var _useSelector2=useSelector(function(state){return state.authentication;}),token=_useSelector2.token;var dispatch=useDispatch();var handleSubmitFormClick=function handleSubmitFormClick(event){event.preventDefault();if(nome===''||descricao===''||imagem===''){return alert('Preencha todos campos');}setNome('');setDescricao('');setImagem('');};useEffect(function(){var url=\"/criativo/\".concat(criativo);console.log(url);axios.get(url,{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){var _response$data=response.data,nome=_response$data.nome,imagem=_response$data.imagem,descricao=_response$data.descricao;setNome(nome);setDescricao(descricao);}).catch(function(error){return console.log(error);});},[]);return/*#__PURE__*/_jsxs(Modal,{headerTitle:\"Detalhe do criativo\",height:\"auto\",width:\"600px\",handleClickOnCloseButton:handleClickOnCloseButton,children:[/*#__PURE__*/_jsxs(ImagemDeCapa,{children:[/*#__PURE__*/_jsx(\"img\",{width:\"600\",src:\"/criativo/imagem/\".concat(criativo)}),/*#__PURE__*/_jsx(AlterarImagem,{children:\"Alterar imagem\"})]}),/*#__PURE__*/_jsx(FormWrapper,{children:/*#__PURE__*/_jsxs(FormContainer,{onSubmit:handleSubmitFormClick,children:[/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(TextInput,{variation:\"filled\",colorMode:\"dark\",label:\"Nome do criativo\",onChange:function onChange(val){return setNome(val.target.value);},value:nome,placeholder:\"Nome do criativo\"})}),/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(TextArea,{variation:\"filled\",colorMode:\"dark\",label:\"Descri\\xE7\\xE3o\",onChange:function onChange(val){return setDescricao(val.target.value);},value:descricao,placeholder:\"Inserir descri\\xE7\\xE3o\"})})]})})]});};","map":{"version":3,"sources":["/Users/rodrigodaudskeff/Desktop/Mediabase/mediabase-app/client/src/pages/Campaign/pageComponents/EditCriativoModal/index.jsx"],"names":["React","useState","useEffect","useDispatch","useSelector","axios","Modal","TextInput","TextArea","FormGroup","FormWrapper","FormContainer","ImagemDeCapa","AlterarImagem","EditCriativoModal","criativo","handleClickOnCloseButton","nome","setNome","descricao","setDescricao","imagem","setImagem","state","criativos","selected","authentication","token","dispatch","handleSubmitFormClick","event","preventDefault","alert","url","console","log","get","headers","then","response","data","catch","error","val","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport axios from 'axios'\n\nimport { Modal, TextInput, TextArea, FormGroup } from '../../../../components'\nimport { FormWrapper, FormContainer, ImagemDeCapa, AlterarImagem } from './styles'\n\n\nexport const EditCriativoModal = ({ criativo, handleClickOnCloseButton }) => {\n\n    \n    const [ nome, setNome ] = useState(criativo.nome)\n    const [ descricao, setDescricao ] = useState(criativo.descricao)\n    const [ imagem, setImagem ] = useState(criativo.imagem)\n    const { selected } = useSelector(state => state.criativos)\n    const { token } = useSelector(state => state.authentication)\n\n    const dispatch = useDispatch()\n\n    const handleSubmitFormClick = (event) => {\n\n        event.preventDefault();\n        if (nome === '' || descricao === '' || imagem === '') {\n            return alert('Preencha todos campos')\n        }\n        setNome('')\n        setDescricao('')\n        setImagem('')  \n    };\n\n\n\n    useEffect(() => {  \n        const url = `/criativo/${criativo}`\n        console.log(url)\n        axios.get(url,{\n            headers: {\n            'Authorization': `Bearer ${token}`,\n            }\n        })\n        .then((response) => {\n            const { nome, imagem, descricao } = response.data\n            setNome(nome)\n            setDescricao(descricao)\n        })\n        .catch((error) => {\n            return console.log(error)\n        });\n    },[])\n\n    return (\n        <Modal headerTitle=\"Detalhe do criativo\" height=\"auto\" width=\"600px\" handleClickOnCloseButton={handleClickOnCloseButton}>\n            <ImagemDeCapa>\n                <img width=\"600\" src={`/criativo/imagem/${criativo}`}></img>\n                <AlterarImagem>Alterar imagem</AlterarImagem>\n            </ImagemDeCapa>\n            <FormWrapper>\n                <FormContainer onSubmit={handleSubmitFormClick}>                 \n                    <FormGroup>\n                        <TextInput variation=\"filled\" colorMode=\"dark\"  label=\"Nome do criativo\" onChange={val => setNome(val.target.value)} value={nome} placeholder=\"Nome do criativo\" />\n                    </FormGroup>\n\n                    {/* <FormGroup>\n                        <FileInput\n                            lighter\n                            label=\"Imagem de capa\"\n                            onChange={val => {\n                                const obj = val.target.files[0]\n                                if (obj) {\n                                    setImagem(obj)\n                                }\n                            }} \n                            placeholder=\"Subir imagem\"\n                            assistiveText={imagem.name}\n                            onClick={handleClickOnRemover}\n                        />\n                    </FormGroup> */}\n\n                    <FormGroup>\n                        <TextArea variation=\"filled\" colorMode=\"dark\" label=\"Descrição\" onChange={val => setDescricao(val.target.value)} value={descricao} placeholder=\"Inserir descrição\" />\n                    </FormGroup>  \n                 </FormContainer>\n            </FormWrapper>\n        </Modal>\n    )\n}\n\n"]},"metadata":{},"sourceType":"module"}