{"ast":null,"code":"import axios from\"axios\";import{closeAddCriativoModalRequest}from\"./campaignsActions\";/**\n * \n * Create Criativo\n */export var createCriativoRequest=function createCriativoRequest(){return{type:'CREATE_CRIATIVO_REQUEST',loading:true};};var createCriativoSuccess=function createCriativoSuccess(payload){return{type:'CREATE_CRIATIVO_SUCCESS',loading:false,payload:payload};};var createCriativoFailure=function createCriativoFailure(payload){return{type:'CREATE_CRIATIVO_FAILURE',loading:false,payload:payload};};export var createCriativo=function createCriativo(_ref){var nome=_ref.nome,imagem=_ref.imagem,descricao=_ref.descricao;return function(dispatch,getState){dispatch(createCriativoRequest());var token=getState().authentication.token;var _id=getState().campaigns.currentPageCampaign._id;var data=new FormData();data.append('nome',nome);data.append('imagem',imagem);data.append('descricao',descricao);var url=\"/campaigns/\".concat(_id,\"/criativos\");axios.post(url,data,{headers:{'Content-Type':'multipart/form-data','Authorization':\"Bearer \".concat(token)}}).then(function(response){var data=response.data;dispatch(createCriativoSuccess(data));alert('Criativo criado com sucesso');window.location.reload();}).catch(function(error){dispatch(createCriativoFailure(JSON.stringify(error)));alert(error);});};};/**\n * \n * Get Criativos\n */export var getCriativosRequest=function getCriativosRequest(){return{type:'GET_CRIATIVOS_REQUEST',loading:true};};export var getCriativosFailure=function getCriativosFailure(){return{type:'GET_CRIATIVOS_FAILURE',loading:false};};var getCriativosSuccess=function getCriativosSuccess(payload){return{type:'GET_CRIATIVOS_SUCCESS',loading:false,payload:payload};};export var getCriativos=function getCriativos(){return function(dispatch,getState){var token=getState().authentication.token;var _id=getState().campaigns.currentPageCampaign._id;dispatch(getCriativosRequest());var url=\"/criativos/\".concat(_id);axios.get(url,{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}}).then(function(response){return dispatch(getCriativosSuccess(response.data));}).catch(function(error){dispatch(getCriativosFailure());return console.log(error);});};};/**\n * \n * Get Criativo by Id\n */export var getCriativoByIdRequest=function getCriativoByIdRequest(){return{type:'GET_CRIATIVO__BY_ID_REQUEST'};};export var getCriativoByIdFailure=function getCriativoByIdFailure(){return{type:'GET_CRIATIVO_BY_ID_FAILURE'};};var getCriativoByIdSuccess=function getCriativoByIdSuccess(payload){return{type:'GET_CRIATIVO_BY_ID_SUCCESS',loading:false,payload:payload};};export var getCriativoById=function getCriativoById(_ref2){var id=_ref2.id;return function(dispatch,getState){var token=getState().authentication.token;dispatch(getCriativoByIdRequest());var url=\"/criativo/\".concat(id);axios.get(url,{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}}).then(function(response){return dispatch(getCriativoByIdSuccess(response.data));}).catch(function(error){dispatch(getCriativoByIdFailure());return console.log(error);});};};","map":{"version":3,"sources":["/Users/rodrigodaudskeff/Desktop/Mediabase/mediabase-app/client/src/redux/actions/criativoActions.js"],"names":["axios","closeAddCriativoModalRequest","createCriativoRequest","type","loading","createCriativoSuccess","payload","createCriativoFailure","createCriativo","nome","imagem","descricao","dispatch","getState","token","authentication","_id","campaigns","currentPageCampaign","data","FormData","append","url","post","headers","then","response","alert","window","location","reload","catch","error","JSON","stringify","getCriativosRequest","getCriativosFailure","getCriativosSuccess","getCriativos","get","console","log","getCriativoByIdRequest","getCriativoByIdFailure","getCriativoByIdSuccess","getCriativoById","id"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { closeAddCriativoModalRequest } from \"./campaignsActions\";\n\n\n/**\n * \n * Create Criativo\n */\n\nexport const createCriativoRequest = () => {\n    return {\n      type: 'CREATE_CRIATIVO_REQUEST',\n      loading: true\n    }\n  }\n\n  const createCriativoSuccess = (payload) => {\n    return {\n      type: 'CREATE_CRIATIVO_SUCCESS',\n      loading: false,\n      payload\n    }\n  }\n\n  const createCriativoFailure = (payload) => {\n    return {\n      type: 'CREATE_CRIATIVO_FAILURE',\n      loading: false,\n      payload\n    }\n  }\n\n  export const createCriativo = ({ nome, imagem, descricao }) => {\n  \n    return function (dispatch,getState) {\n\n      dispatch(createCriativoRequest());\n      \n      const { token } = getState().authentication\n      const { currentPageCampaign: { _id } } = getState().campaigns\n\n      let data = new FormData();\n      data.append('nome', nome)\n      data.append('imagem', imagem)\n      data.append('descricao', descricao)\n\n\n        const url = `/campaigns/${_id}/criativos`\n        axios.post(url, data,{\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          'Authorization': `Bearer ${token}`\n        }\n        })\n      .then((response) => {\n        const data = response.data;\n          dispatch(createCriativoSuccess(data));\n          alert('Criativo criado com sucesso');\n          window.location.reload();\n\n        })\n      .catch((error) => {\n          dispatch(createCriativoFailure(JSON.stringify(error)));\n          alert(error);\n      }); \n    };\n  }\n  \n  /**\n * \n * Get Criativos\n */\n\n  export const getCriativosRequest = () => {\n    return {\n      type: 'GET_CRIATIVOS_REQUEST',\n      loading: true\n\n    }\n  }\n\n  export const getCriativosFailure = () => {\n    return {\n      type: 'GET_CRIATIVOS_FAILURE',\n      loading: false\n\n    }\n  }\n\n\n  const getCriativosSuccess = (payload) => {\n    return {\n      type: 'GET_CRIATIVOS_SUCCESS',\n      loading: false,\n      payload\n    }\n  }\n\n  export const getCriativos = () => {\n    return function(dispatch,getState) {\n\n    const { token } = getState().authentication\n    const { currentPageCampaign: { _id } } = getState().campaigns\n\n      dispatch(getCriativosRequest());\n      const url = `/criativos/${_id}`\n\n      axios.get(url,{\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json',\n        }\n      })\n      .then((response) => {\n        return dispatch(getCriativosSuccess(response.data))\n      })\n      .catch((error) => {\n        dispatch(getCriativosFailure())\n        return console.log(error)\n      });\n    };\n  };\n\n  /**\n * \n * Get Criativo by Id\n */\n\n   export const getCriativoByIdRequest = () => {\n    return {\n      type: 'GET_CRIATIVO__BY_ID_REQUEST',\n    }\n  }\n\n  export const getCriativoByIdFailure = () => {\n    return {\n      type: 'GET_CRIATIVO_BY_ID_FAILURE',\n    }\n  }\n\n  const getCriativoByIdSuccess = (payload) => {\n    return {\n      type: 'GET_CRIATIVO_BY_ID_SUCCESS',\n      loading: false,\n      payload\n    }\n  }\n\n  export const getCriativoById = ({ id }) => {\n    return function(dispatch,getState) {\n\n    const { token } = getState().authentication\n\n      dispatch(getCriativoByIdRequest());\n      const url = `/criativo/${id}`\n\n      axios.get(url,{\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json',\n        }\n      })\n      .then((response) => {\n        return dispatch(getCriativoByIdSuccess(response.data))\n      })\n      .catch((error) => {\n        dispatch(getCriativoByIdFailure())\n        return console.log(error)\n      });\n    };\n  };"]},"metadata":{},"sourceType":"module"}