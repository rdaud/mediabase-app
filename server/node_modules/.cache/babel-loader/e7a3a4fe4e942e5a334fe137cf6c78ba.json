{"ast":null,"code":"import _objectSpread from\"/Users/rodrigodaudskeff/Desktop/Mediabase/mediabase-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/rodrigodaudskeff/Desktop/Mediabase/mediabase-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useMemo,useState}from'react';import{useSelector}from'react-redux';import{useHistory}from\"react-router-dom\";import{useTable,useRowSelect,useRowState,useFlexLayout,useExpanded,useFilters,useGlobalFilter,useSortBy}from'react-table';import{Styles,Table,Thead,Tr,Tbody,Th,Td,RowSubComponent,Link}from'./styles';import{COLUMNS}from'./columns';import{DATA}from'./data';import{filterTypes,DefaultColumnFilter,GlobalFilter,SelectColumnFilter}from'./filters';import{Toolbar}from'./Toolbar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var getStyles=function getStyles(props){var align=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'left';var toggle=arguments.length>2?arguments[2]:undefined;return[props,{style:{justifyContent:align==='right'?'flex-end':'flex-start',alignItems:'center',display:'flex',flexBasis:'auto'}}];};var App=function App(_ref){var userColumns=_ref.columns,data=_ref.data,renderRowSubComponent=_ref.renderRowSubComponent,stateReducer=_ref.stateReducer;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),selectedSubRows=_useState2[0],setSelectedSubRows=_useState2[1];var history=useHistory();var defaultColumn=React.useMemo(function(){return{Filter:DefaultColumnFilter,// When using the useFlexLayout:\nminWidth:30,// minWidth is only used as a limit for resizing\nwidth:150,// width is used for both the flex-basis and flex-grow\nmaxWidth:200// maxWidth is only used as a limit for resizing\n};},[]);function handleClickOnRow(_ref2){var row=_ref2.row;console.log(row);}var tableInstance=useTable({columns:userColumns,data:data,defaultColumn:defaultColumn,// Be sure to pass the defaultColumn option\nfilterTypes:filterTypes,stateReducer:stateReducer,expandSubRows:true,getSubRows:React.useCallback(function(row){return row.criativos||[];})},useFlexLayout,useFilters,useGlobalFilter,useSortBy,useExpanded,useRowSelect,useRowState);var getTableProps=tableInstance.getTableProps,getTableBodyProps=tableInstance.getTableBodyProps,toggleRowSelected=tableInstance.toggleRowSelected,headerGroups=tableInstance.headerGroups,rows=tableInstance.rows,columns=tableInstance.columns,prepareRow=tableInstance.prepareRow,visibleColumns=tableInstance.visibleColumns,selectedFlatRows=tableInstance.selectedFlatRows,preGlobalFilteredRows=tableInstance.preGlobalFilteredRows,setGlobalFilter=tableInstance.setGlobalFilter,getToggleAllRowsSelectedProps=tableInstance.getToggleAllRowsSelectedProps,_tableInstance$state=tableInstance.state,globalFilter=_tableInstance$state.globalFilter,filters=_tableInstance$state.filters;// tableInstance.setState()\nconsole.log(rows);// Get selected rows data\nvar original=selectedFlatRows.selectedRowsData;// Count how many subrows are selected\nvar subrowsCounter=selectedFlatRows.filter(function(item){return item.depth===1;}).length;// Toggle all selected rows state to false when clicking on cancelar button\nfunction handleClickOnCancelar(){rows.forEach(function(item){if(item.isSelected){toggleRowSelected(item.id,false);}});}// Render the UI for your table\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[!!subrowsCounter&&/*#__PURE__*/_jsx(Toolbar,{counter:subrowsCounter,handleClickOnCancelar:handleClickOnCancelar}),/*#__PURE__*/_jsxs(\"div\",{className:\"tableWrap\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'inline-flex',gap:'1rem',padding:'1rem'},children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(GlobalFilter,{preGlobalFilteredRows:preGlobalFilteredRows,globalFilter:globalFilter,setGlobalFilter:setGlobalFilter})}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'left'},children:/*#__PURE__*/_jsx(SelectColumnFilter,{userColumns:columns[1]})}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'left'},children:/*#__PURE__*/_jsx(SelectColumnFilter,{userColumns:columns[2]})})]}),/*#__PURE__*/_jsxs(Table,_objectSpread(_objectSpread({className:\"table tableWrap\"},getTableProps()),{},{children:[/*#__PURE__*/_jsx(Thead,{children:headerGroups.map(function(headerGroup){return/*#__PURE__*/_jsx(Tr,_objectSpread(_objectSpread({className:\"tr\"},headerGroup.getHeaderGroupProps()),{},{children:headerGroup.headers.map(function(column){return/*#__PURE__*/_jsxs(Th,_objectSpread(_objectSpread({className:column.id==='expander'?\"th align-right\":\"th\"},column.getHeaderProps(_objectSpread(_objectSpread({},column.getSortByToggleProps()),{},{style:{display:'inline-flex',alignItems:'center'}}))),{},{children:[column.render('Header'),/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',marginLeft:'.5rem'},children:column.isSorted?column.isSortedDesc?' ðŸ”½':' ðŸ”¼':''})]}));})}));})}),/*#__PURE__*/_jsx(Tbody,_objectSpread(_objectSpread({className:\"tbody\"},getTableBodyProps()),{},{children:rows.map(function(row,i){prepareRow(row);return/*#__PURE__*/ (// Use a React.Fragment here so the table markup is still valid\n_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(Tr,_objectSpread(_objectSpread({className:row.depth===1?\"tr depth-1\":\"tr\"},row.getRowProps()),{},{depth:row.depth,onClick:function onClick(){var url=\"/campanha/\".concat(row.original._id);history.push(url);},children:row.cells.map(function(cell){if(row.depth===1&&cell.column.id==='arquivo'&&cell.value===''){return/*#__PURE__*/_jsx(Td,_objectSpread(_objectSpread({className:\"td\"},cell.getCellProps()),{},{children:/*#__PURE__*/_jsx(Link,{onClick:function onClick(){return console.log('Subir arquivo');},children:\"Adicionar arquivo +\"})}));}if(row.depth===1&&cell.column.id==='prazo'&&cell.value===''){return/*#__PURE__*/_jsx(Td,_objectSpread(_objectSpread({className:\"td\"},cell.getCellProps()),{},{children:/*#__PURE__*/_jsx(Link,{onClick:function onClick(){return'';},children:\"Prazo +\"})}));}if(row.depth===1&&cell.column.id==='veiculaÃ§Ã£o'&&cell.value===''){return/*#__PURE__*/_jsx(Td,_objectSpread(_objectSpread({className:\"td\"},cell.getCellProps()),{},{children:/*#__PURE__*/_jsx(Link,{onClick:function onClick(){return'';},children:\"Veicula\\xE7\\xE3o +\"})}));}return/*#__PURE__*/_jsx(Td,_objectSpread(_objectSpread({className:cell.column.id==='expander'?\"td align-right\":\"td\"},cell.getCellProps({style:{display:'flex',alignItems:'center'}})),{},{children:cell.render('Cell')}));})}))}));})}))]}))]})]});};export var CampaignsTable=function CampaignsTable(){var _useSelector=useSelector(function(state){return state.campaigns;}),campaigns=_useSelector.campaigns;console.log(campaigns);var columns=useMemo(function(){return COLUMNS;},[]);var data=useMemo(function(){return DATA;},[]);var renderRowSubComponent=React.useCallback(function(){return/*#__PURE__*/_jsx(RowSubComponent,{});});return/*#__PURE__*/_jsx(Styles,{children:/*#__PURE__*/_jsx(App,{columns:columns,data:campaigns,renderRowSubComponent:renderRowSubComponent})});};","map":{"version":3,"sources":["/Users/rodrigodaudskeff/Desktop/Mediabase/mediabase-app/client/src/pages/Home/pageComponents/CampaignsTable/index.jsx"],"names":["React","useMemo","useState","useSelector","useHistory","useTable","useRowSelect","useRowState","useFlexLayout","useExpanded","useFilters","useGlobalFilter","useSortBy","Styles","Table","Thead","Tr","Tbody","Th","Td","RowSubComponent","Link","COLUMNS","DATA","filterTypes","DefaultColumnFilter","GlobalFilter","SelectColumnFilter","Toolbar","getStyles","props","align","toggle","style","justifyContent","alignItems","display","flexBasis","App","userColumns","columns","data","renderRowSubComponent","stateReducer","selectedSubRows","setSelectedSubRows","history","defaultColumn","Filter","minWidth","width","maxWidth","handleClickOnRow","row","console","log","tableInstance","expandSubRows","getSubRows","useCallback","criativos","getTableProps","getTableBodyProps","toggleRowSelected","headerGroups","rows","prepareRow","visibleColumns","selectedFlatRows","preGlobalFilteredRows","setGlobalFilter","getToggleAllRowsSelectedProps","state","globalFilter","filters","original","selectedRowsData","subrowsCounter","filter","item","depth","length","handleClickOnCancelar","forEach","isSelected","id","gap","padding","textAlign","map","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","getSortByToggleProps","render","position","marginLeft","isSorted","isSortedDesc","i","getRowProps","url","_id","push","cells","cell","value","getCellProps","CampaignsTable","campaigns"],"mappings":"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","sourcesContent":["import React, { useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useHistory } from \"react-router-dom\"\n\nimport {\n  useTable,\n  useRowSelect,\n  useRowState,\n  useFlexLayout,\n  useExpanded,\n  useFilters,\n  useGlobalFilter,\n  useSortBy\n} from 'react-table'\nimport\n{\n  Styles,\n  Table,\n  Thead,\n  Tr,\n  Tbody,\n  Th,\n  Td,\n  RowSubComponent,\n  Link\n} from './styles'\nimport { COLUMNS } from './columns'\nimport { DATA } from './data'\nimport { filterTypes, DefaultColumnFilter, GlobalFilter, SelectColumnFilter } from './filters'\nimport { Toolbar } from './Toolbar'\n\n\nconst getStyles = (props, align = 'left', toggle) => [\n  props,\n  {\n    style: {\n      justifyContent: align === 'right' ? 'flex-end' : 'flex-start',\n      alignItems: 'center',\n      display: 'flex',\n      flexBasis: 'auto',\n    },\n  },\n]\n\n\nconst App = ({ columns: userColumns, data, renderRowSubComponent, stateReducer\n}) => {\n\n\n    const [ selectedSubRows, setSelectedSubRows ] = useState('')\n    const history = useHistory();\n\n\n    const defaultColumn = React.useMemo(\n        () => ({\n            Filter: DefaultColumnFilter,\n\n          // When using the useFlexLayout:\n          minWidth: 30, // minWidth is only used as a limit for resizing\n          width: 150, // width is used for both the flex-basis and flex-grow\n          maxWidth: 200, // maxWidth is only used as a limit for resizing\n        }),\n        []\n      )\n\n      function handleClickOnRow({row}) {\n          console.log(row)\n      }\n  \n \n\n  const tableInstance = useTable({\n    columns: userColumns,\n    data,\n    defaultColumn, // Be sure to pass the defaultColumn option\n    filterTypes,\n    stateReducer,\n    expandSubRows: true,\n    getSubRows: React.useCallback((row) => row.criativos || []),\n  },\n  useFlexLayout,\n  useFilters, \n  useGlobalFilter, \n  useSortBy,\n  useExpanded,\n  useRowSelect,\n  useRowState\n  )\n\n\n  const {\n    getTableProps,\n    getTableBodyProps,\n    toggleRowSelected,\n    headerGroups,\n    rows,\n    columns,\n    prepareRow,\n    visibleColumns,\n    selectedFlatRows,\n    preGlobalFilteredRows,\n    setGlobalFilter,\n    getToggleAllRowsSelectedProps,\n    state: { globalFilter, filters }\n  } = tableInstance\n\n  // tableInstance.setState()\nconsole.log(rows)\n    \n  // Get selected rows data\n  const { selectedRowsData: original } = selectedFlatRows\n  \n  // Count how many subrows are selected\n  const subrowsCounter = selectedFlatRows.filter((item) => item.depth === 1 ).length\n\n  // Toggle all selected rows state to false when clicking on cancelar button\n  function handleClickOnCancelar() {\n    rows.forEach((item) => {\n        if (item.isSelected) {\n            toggleRowSelected(item.id,false)\n        }\n    })\n  }\n\n  // Render the UI for your table\n  return (\n      <>\n     { !!subrowsCounter && <Toolbar counter={subrowsCounter} handleClickOnCancelar={handleClickOnCancelar} /> } \n\n    <div className=\"tableWrap\">\n    <div style={{\n        display: 'inline-flex',\n        gap: '1rem',\n        padding: '1rem'\n    }}>\n        <div>          \n            <GlobalFilter\n              preGlobalFilteredRows={preGlobalFilteredRows}\n              globalFilter={globalFilter}\n              setGlobalFilter={setGlobalFilter}\n            />\n        </div>\n        <div style={{ textAlign: 'left' }}> \n            <SelectColumnFilter userColumns={columns[1]} />\n        </div>\n        <div style={{ textAlign: 'left'}}> \n            <SelectColumnFilter userColumns={columns[2]} />\n        </div> \n    </div>\n    \n    <Table className=\"table tableWrap\" {...getTableProps()} >\n        <Thead>\n        {headerGroups.map(headerGroup => (\n            <Tr className=\"tr\" {...headerGroup.getHeaderGroupProps()}>\n            {headerGroup.headers.map(column => {\n                return (\n                <Th className={ column.id === 'expander' ? \"th align-right\" : \"th\"} {...column.getHeaderProps({\n                    ...column.getSortByToggleProps(),\n                        style: {\n                            display: 'inline-flex',\n                            alignItems: 'center',                            \n                        }\n                    \n                    })} >{column.render('Header')}\n                {/* Add a sort direction indicator */}\n                <span style={{ position: 'absolute', marginLeft: '.5rem'}}>\n                    {column.isSorted\n                    ? column.isSortedDesc\n                        ? ' ðŸ”½'\n                        : ' ðŸ”¼'\n                    : ''}\n                </span>\n                </Th>\n            )})}\n            </Tr>\n        ))}\n        </Thead>\n\n        <Tbody className=\"tbody\" {...getTableBodyProps()} >\n        \n        {rows.map((row, i) => {\n\n            prepareRow(row)\n            \n            return (\n            // Use a React.Fragment here so the table markup is still valid\n            <React.Fragment >\n                <Tr className={ row.depth === 1 ? \"tr depth-1\" : \"tr\" }  {...row.getRowProps()} depth={row.depth} onClick={() => {\n                        const url = `/campanha/${row.original._id}`\n                        history.push(url) \n                }}\n                >   \n            \n                {row.cells.map(cell => {\n\n                    if (row.depth === 1 && cell.column.id === 'arquivo' && cell.value === '') {\n                        return <Td className=\"td\" {...cell.getCellProps()}><Link onClick={() => console.log('Subir arquivo')}>Adicionar arquivo +</Link></Td>\n                    }\n\n                    if (row.depth === 1 && cell.column.id === 'prazo' && cell.value === '') {\n                        return <Td className=\"td\" {...cell.getCellProps()}><Link onClick={() => ''}>Prazo +</Link></Td>\n                    }\n\n                    if (row.depth === 1 && cell.column.id === 'veiculaÃ§Ã£o' && cell.value === '') {\n                        return <Td className=\"td\" {...cell.getCellProps()}><Link onClick={() => ''}>VeiculaÃ§Ã£o +</Link></Td>\n                    }\n\n                    return (\n                    <Td className={cell.column.id === 'expander' ? \"td align-right\" : \"td\"} {...cell.getCellProps({\n                        style: {\n                            display: 'flex',\n                            alignItems: 'center'\n                        }\n                    })}>{cell.render('Cell')}</Td>\n                    )\n                })}\n                </Tr>\n            </React.Fragment>\n            )\n        })}\n        </Tbody>\n      </Table>\n    </div>\n    </>\n  )\n}\n\n\n\nexport const CampaignsTable = () => {\n\n const { campaigns } = useSelector(state => state.campaigns)\n\n console.log(campaigns)\n\n  const columns = useMemo(() => COLUMNS,[])\n  const data = useMemo(() => DATA,[])\n\n  const renderRowSubComponent = React.useCallback(\n    () =>  <RowSubComponent /> )\n\n\n  return (\n    <Styles>\n      <App\n        columns={columns}\n        data={campaigns}\n        renderRowSubComponent={renderRowSubComponent}\n      />\n    </Styles>\n\n  )\n}\n\n\n"]},"metadata":{},"sourceType":"module"}