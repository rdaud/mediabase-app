{"ast":null,"code":"import _slicedToArray from\"/Users/rodrigodaudskeff/Desktop/Mediabase/mediabase-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{MainContainer}from'../../components';import{getFormatos}from'../../redux/actions/formatsActions';import{getCampaigns}from'../../redux/actions/campaignsActions';import{AddCampaignModal,CampaignsTable,PageHeader}from'./pageComponents';import{EmptyStateContainer,EmptyStateWrapper}from'./styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var HomePage=function HomePage(){var _useSelector=useSelector(function(state){return state.campaigns;}),addCampaignModal=_useSelector.addCampaignModal,loading=_useSelector.loading,campaigns=_useSelector.campaigns;// Manage modal open state\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useSelector2=useSelector(function(state){return state.authentication;}),token=_useSelector2.token;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isPageLoaded=_useState4[0],setIsPageLoaded=_useState4[1];var dispatch=useDispatch();var handleClick=function handleClick(){setOpen(true);};var handleClickOnCloseButton=function handleClickOnCloseButton(){setOpen(false);};useEffect(function(){dispatch(getCampaigns(token));},[]);useEffect(function(){if(!isPageLoaded){dispatch(getFormatos());setIsPageLoaded(true);}},[isPageLoaded]);return/*#__PURE__*/_jsxs(_Fragment,{children:[open&&/*#__PURE__*/_jsx(AddCampaignModal,{loading:loading,handleClickOnCloseButton:handleClickOnCloseButton}),/*#__PURE__*/_jsxs(MainContainer,{children:[/*#__PURE__*/_jsx(PageHeader,{setOpen:handleClick}),campaigns!==undefined&&campaigns.length>0?/*#__PURE__*/_jsx(CampaignsTable,{}):/*#__PURE__*/_jsx(EmptyStateWrapper,{children:/*#__PURE__*/_jsx(EmptyStateContainer,{children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Voc\\xEA ainda n\\xE3o possui campanha adicionada. Clique em \",/*#__PURE__*/_jsx(\"span\",{onClick:handleClick,children:\"Adicionar campanha\"}),\" para iniciar.\"]})})})]})]});};","map":{"version":3,"sources":["/Users/rodrigodaudskeff/Desktop/Mediabase/mediabase-app/client/src/pages/Home/index.js"],"names":["React","useEffect","useState","useDispatch","useSelector","MainContainer","getFormatos","getCampaigns","AddCampaignModal","CampaignsTable","PageHeader","EmptyStateContainer","EmptyStateWrapper","HomePage","state","campaigns","addCampaignModal","loading","open","setOpen","authentication","token","isPageLoaded","setIsPageLoaded","dispatch","handleClick","handleClickOnCloseButton","undefined","length"],"mappings":"6IAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CAEA,OAAUC,aAAV,KAA+B,kBAA/B,CACA,OAASC,WAAT,KAA4B,oCAA5B,CACA,OAAUC,YAAV,KAA8B,sCAA9B,CACA,OAASC,gBAAT,CAA2BC,cAA3B,CAA2CC,UAA3C,KAA6D,kBAA7D,CACA,OAASC,mBAAT,CAA8BC,iBAA9B,KAAuD,UAAvD,C,6IAIA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CAE1B,iBAAkDT,WAAW,CAAC,SAAAU,KAAK,QAAIA,CAAAA,KAAK,CAACC,SAAV,EAAN,CAA7D,CAAQC,gBAAR,cAAQA,gBAAR,CAA2BC,OAA3B,cAA2BA,OAA3B,CAAoCF,SAApC,cAAoCA,SAApC,CAEA;AACA,cAA0Bb,QAAQ,CAAC,KAAD,CAAlC,wCAAQgB,IAAR,eAAcC,OAAd,eAEA,kBAAkBf,WAAW,CAAC,SAAAU,KAAK,QAAIA,CAAAA,KAAK,CAACM,cAAV,EAAN,CAA7B,CAAQC,KAAR,eAAQA,KAAR,CACA,eAA2CnB,QAAQ,CAAC,KAAD,CAAnD,yCAAQoB,YAAR,eAAuBC,eAAvB,eACA,GAAMC,CAAAA,QAAQ,CAAGrB,WAAW,EAA5B,CAEA,GAAMsB,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBN,OAAO,CAAC,IAAD,CAAP,CACD,CAFD,CAIA,GAAMO,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,EAAM,CACrCP,OAAO,CAAC,KAAD,CAAP,CACD,CAFD,CAKAlB,SAAS,CAAC,UAAM,CACduB,QAAQ,CAACjB,YAAY,CAACc,KAAD,CAAb,CAAR,CACD,CAFQ,CAEP,EAFO,CAAT,CAKApB,SAAS,CAAC,UAAM,CACd,GAAI,CAACqB,YAAL,CAAmB,CACjBE,QAAQ,CAAClB,WAAW,EAAZ,CAAR,CACAiB,eAAe,CAAC,IAAD,CAAf,CACD,CACF,CALQ,CAKP,CAAED,YAAF,CALO,CAAT,CAOA,mBACE,2BACIJ,IAAI,eAAI,KAAC,gBAAD,EAAkB,OAAO,CAAED,OAA3B,CAAoC,wBAAwB,CAAES,wBAA9D,EADZ,cAEE,MAAC,aAAD,yBACI,KAAC,UAAD,EAAY,OAAO,CAAGD,WAAtB,EADJ,CAEMV,SAAS,GAAKY,SAAd,EAA2BZ,SAAS,CAACa,MAAV,CAAmB,CAA9C,cAAkD,KAAC,cAAD,IAAlD,cACF,KAAC,iBAAD,wBACE,KAAC,mBAAD,wBACM,gGAAwD,aAAM,OAAO,CAAGH,WAAhB,gCAAxD,oBADN,EADF,EAHJ,GAFF,GADF,CAeH,CA/CM","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport {  MainContainer } from '../../components'\nimport { getFormatos } from '../../redux/actions/formatsActions'\nimport {  getCampaigns } from '../../redux/actions/campaignsActions'\nimport { AddCampaignModal, CampaignsTable, PageHeader } from './pageComponents'\nimport { EmptyStateContainer, EmptyStateWrapper } from './styles'\n\n\n\nexport const HomePage = () => {\n\n    const { addCampaignModal,  loading, campaigns } = useSelector(state => state.campaigns)\n\n    // Manage modal open state\n    const [ open, setOpen ] = useState(false)\n    \n    const { token } = useSelector(state => state.authentication)\n    const [ isPageLoaded , setIsPageLoaded ] = useState(false)\n    const dispatch = useDispatch()\n\n    const handleClick = () => {\n      setOpen(true)\n    }\n\n    const handleClickOnCloseButton = () => {\n      setOpen(false)\n    }\n\n\n    useEffect(() => { \n      dispatch(getCampaigns(token))\n    },[])\n\n\n    useEffect(() => { \n      if (!isPageLoaded) {\n        dispatch(getFormatos())\n        setIsPageLoaded(true)\n      }\n    },[ isPageLoaded ])\n\n    return (\n      <>\n        { open && <AddCampaignModal loading={loading} handleClickOnCloseButton={handleClickOnCloseButton} /> }\n        <MainContainer>\n            <PageHeader setOpen={ handleClick } />     \n            { campaigns !== undefined && campaigns.length > 0 ? <CampaignsTable /> :\n            <EmptyStateWrapper>\n              <EmptyStateContainer>\n                    <p>Você ainda não possui campanha adicionada. Clique em <span onClick={ handleClick }>Adicionar campanha</span> para iniciar.</p>\n              </EmptyStateContainer>\n            </EmptyStateWrapper> }          \n        </MainContainer>\n      </>\n    );\n\n}\n"]},"metadata":{},"sourceType":"module"}